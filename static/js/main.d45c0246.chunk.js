(this["webpackJsonpapp-instagram-ui"]=this["webpackJsonpapp-instagram-ui"]||[]).push([[0],{148:function(e,a,t){e.exports=t(319)},153:function(e,a,t){},154:function(e,a,t){},155:function(e,a,t){},161:function(e,a,t){},163:function(e,a,t){},164:function(e,a,t){},187:function(e,a,t){},188:function(e,a,t){},317:function(e,a,t){},318:function(e,a,t){},319:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(59),l=t.n(s),c=(t(153),t(154),t(10)),o=t(11),m=t(13),i=t(12),u=t(14),d=(t(155),t(20)),p=t(323),h=t(324),E=t(325),b={development:{apiUrl:"http://localhost:4000"},production:{apiUrl:"https://app-instagram-api.herokuapp.com/"}}.production,f=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(m.a)(this,Object(i.a)(a).call(this,e))).state={user:null},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch(b.apiUrl+"/api/users/me",{credentials:"include"}).then((function(e){return e.json()})).then((function(a){e.setState({user:a})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"user-actions"},this.state.user?r.a.createElement("span",null,"Hello ",this.state.user.username):r.a.createElement("div",null,r.a.createElement(d.b,{to:"/register"},"Register"),r.a.createElement(d.b,{to:"/login"},"Login")))}}]),a}(n.Component),g=function(e){function a(){return Object(c.a)(this,a),Object(m.a)(this,Object(i.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(p.a,{bg:"light",expand:"lg",className:"header"},r.a.createElement(p.a.Brand,{href:"#home",className:"navbar-brand"},"Instagram"),r.a.createElement(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(p.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(h.a,{className:"mr-auto"},r.a.createElement(d.b,{className:"nav-link",to:"/"},"Home"),r.a.createElement(d.b,{className:"nav-link",to:"/profile"},"Profile"),r.a.createElement(d.b,{className:"nav-link",to:"/post/create"},"Create Post")),r.a.createElement("div",{inline:"true"},r.a.createElement("div",{className:"user"},r.a.createElement("div",{className:"user-avatar"},r.a.createElement(E.h,{className:"user-icon"})),r.a.createElement(f,null)))))}}]),a}(n.Component),v=(t(161),t(143)),N=t.n(v),j=(t(163),t(164),function(e){function a(){return Object(c.a)(this,a),Object(m.a)(this,Object(i.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"TagList"},this.props.tags.map((function(e,a){return r.a.createElement("div",{key:a,className:"tag"},r.a.createElement("a",{href:"#"},"#",e))})))}}]),a}(n.Component)),O=function(e){function a(){return Object(c.a)(this,a),Object(m.a)(this,Object(i.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"post"},r.a.createElement("div",{className:"post-header"},r.a.createElement("div",{className:"user-details"},r.a.createElement(E.h,{className:"user-icon"}),r.a.createElement("h4",{className:"user-id"},this.props.user)),r.a.createElement("div",{className:"created"},r.a.createElement(N.a,{format:"MMM DD, YYYY"},this.props.created))),r.a.createElement("img",{src:b.apiUrl+"/"+this.props.image,alt:"image",className:"post-image"}),r.a.createElement("div",{className:"post-reactions"},r.a.createElement("div",{className:"like-comment-share"},r.a.createElement("button",{className:"action-button"},r.a.createElement(E.e,{className:"icon"})),r.a.createElement("button",{className:"action-button"},r.a.createElement(E.d,{className:"icon"})),r.a.createElement("button",{className:"action-button"},r.a.createElement(E.g,{className:"icon"}))),r.a.createElement("div",{className:"bookmark"},r.a.createElement("button",{className:"action-button"},r.a.createElement(E.c,{className:"icon"})))),r.a.createElement("div",{className:"post-details"},r.a.createElement("span",{className:"post-likes"},this.props.likes," Likes"),r.a.createElement("p",{className:"post-title"},this.props.title),r.a.createElement(j,{tags:this.props.tags,className:"tags-list"})))}}]),a}(n.Component),y=t(144),w=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(m.a)(this,Object(i.a)(a).call(this,e))).state={posts:[],isLoading:!0},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch(b.apiUrl+"/api/posts").then((function(e){return e.json()})).then((function(a){e.setState({isLoading:!1,posts:a})}))}},{key:"render",value:function(){return this.state.isLoading?r.a.createElement("div",{className:"loader"},r.a.createElement(y.BeatLoader,{color:"#faebd7",size:"25",sizeUnit:"px"})):r.a.createElement("div",{className:"Feed"},this.state.posts.map((function(e){return r.a.createElement(O,{key:e._id,user:e.userId,image:e.image,title:e.title,likes:e.likes,tags:e.tags,created:e.created})})))}}]),a}(n.Component),k=(t(187),function(e){function a(){return Object(c.a)(this,a),Object(m.a)(this,Object(i.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,"Profile")}}]),a}(n.Component)),C=t(28),x=(t(188),t(322)),D=t(321),L=t(5),S=t(15),F=S.object().shape({title:S.string().min(2).max(255).required(),image:S.mixed().required(),tags:S.array()}),T=t(147),P=t.n(T),U=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(m.a)(this,Object(i.a)(a).call(this,e))).state={tags:[]},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"handleTagsChange",value:function(e){this.setState({tags:e})}},{key:"convertToFormData",value:function(e){var a=new FormData,t=function(t){Array.isArray(e[t])?e[t].forEach((function(e){return a.append(t+"[]",e)})):a.append(t,e[t])};for(var n in e)t(n);return a}},{key:"submit",value:function(e){var a=this.convertToFormData(e);fetch(b.apiUrl+"/api/posts",{method:"POST",credentials:"include",body:a}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"create-post"},r.a.createElement(L.d,{initialValues:{image:"",title:"",tags:[]},validationSchema:F,onSubmit:this.submit.bind(this),render:function(a){var t=a.setFieldValue;return r.a.createElement(L.c,{className:"col-xs-12 col-sm-6"},r.a.createElement("h2",{className:"form-title"},"Create Post:"),r.a.createElement(x.a.Group,{controlId:"formBasicFile"},r.a.createElement(x.a.Label,null,"Load Image:"),r.a.createElement("input",{type:"file",name:"image",id:"image",className:"form-control-image",onChange:function(e){t("image",e.currentTarget.files[0])}}),r.a.createElement("label",{htmlFor:"image",className:"upload-btn"},r.a.createElement("span",null,r.a.createElement(E.b,{className:"upload-icon"}),"Select your image..."))),r.a.createElement(x.a.Group,{controlId:"formBasicEmail"},r.a.createElement(x.a.Label,null,"Post Title:"),r.a.createElement(L.b,{name:"title",className:"form-control",placeholder:"Place your post title here"}),r.a.createElement(L.a,{className:"alert alert-danger",name:"title",component:"div"})),r.a.createElement(x.a.Group,{controlId:"formBasicEmail"},r.a.createElement(x.a.Label,null,"Post Tags:"),r.a.createElement(P.a,{value:e.state.tags,onChange:function(a){e.handleTagsChange(a),t("tags",a)},className:"tags-input"}),r.a.createElement(L.a,{className:"alert alert-danger mt-2",name:"tags",component:"div"}),r.a.createElement(E.f,null),r.a.createElement("span",null,"Press Enter for each tag")),r.a.createElement(D.a,{variant:"primary",type:"submit",className:"share-btn"},r.a.createElement(E.a,{className:"share-icon"}),"Upload your post..."))}}))}}]),a}(n.Component),M=S.object().shape({name:S.string().min(2).max(255).required(),username:S.string().min(2).max(255).required(),password:S.string().min(2).max(16).required(),gender:S.string().required(),birthDate:S.date().required(),about:S.string()}),q=(t(317),function(e){function a(){return Object(c.a)(this,a),Object(m.a)(this,Object(i.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(o.a)(a,[{key:"submit",value:function(e){var a=this;fetch("http://localhost:4000/api/users",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(){return a.props.history.push("/")}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"register-form"},r.a.createElement("h2",{className:"form-title"},"Registration"),r.a.createElement("hr",null),r.a.createElement(L.d,{initialValues:{name:"",username:"",password:"",birthDate:new Date,gender:"m",about:""},validationSchema:M,onSubmit:this.submit.bind(this)},r.a.createElement(L.c,{className:"col-xs-12 col-md-6"},r.a.createElement("div",{className:"row form-group"},r.a.createElement("label",{htmlFor:"name"},"Name:"),r.a.createElement(L.b,{name:"name",id:"name",className:"form-control"}),r.a.createElement(L.a,{className:"alert alert-danger mt-2",name:"name",component:"div"})),r.a.createElement("div",{className:"row form-group"},r.a.createElement("label",{htmlFor:"username"},"Username:"),r.a.createElement(L.b,{name:"username",id:"username",className:"form-control"}),r.a.createElement(L.a,{className:"alert alert-danger mt-2",name:"username",component:"div"})),r.a.createElement("div",{className:"row form-group"},r.a.createElement("label",{htmlFor:"password"},"Password:"),r.a.createElement(L.b,{type:"password",name:"password",id:"password",className:"form-control"}),r.a.createElement(L.a,{className:"alert alert-danger mt-2",name:"password",component:"div"})),r.a.createElement("div",{className:"row form-group"},r.a.createElement("label",{htmlFor:"birthDate"},"Birth Date:"),r.a.createElement(L.b,{type:"date",name:"birthDate",id:"birthDate",className:"form-control"}),r.a.createElement(L.a,{className:"alert alert-danger mt-2",name:"birthDate",component:"div"})),r.a.createElement("div",{className:"row form-group"},r.a.createElement("label",{htmlFor:"gender"},"Gender:"),r.a.createElement(L.b,{component:"select",name:"birthDate",id:"gender",className:"form-control"},r.a.createElement("option",{value:"m"},"Male"),r.a.createElement("option",{value:"f"},"Female")),r.a.createElement(L.a,{className:"alert alert-danger mt-2",name:"birthDate",component:"div"})),r.a.createElement("div",{className:"row form-group"},r.a.createElement("label",{htmlFor:"about"},"About:"),r.a.createElement(L.b,{as:"textarea",id:"about",name:"about",className:"form-control"}),r.a.createElement(L.a,{className:"alert alert-danger mt-2",name:"about",component:"div"})),r.a.createElement("div",{className:"row form-group d-flex justify-content-end"},r.a.createElement(D.a,{type:"submit",className:"register-btn"},"Register")))))}}]),a}(n.Component)),B=Object(C.f)(q),I=S.object().shape({username:S.string().min(2).max(255).required(),password:S.string().min(2).max(16).required()}),A=(t(318),function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(m.a)(this,Object(i.a)(a).call(this,e))).state={incorrectLoginMessage:!1},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"submit",value:function(e){var a=this;this.setState({incorrectLoginMessage:!1}),fetch("http://localhost:4000/api/users/login",{method:"POST",body:JSON.stringify(e),credentials:"include",headers:{"Content-Type":"application/json"}}).then((function(e){200===e.status?a.props.history.push("/"):403===e.status?a.setState({incorrectLoginMessage:!0}):console.log("Unexpected error")}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"login-form"},r.a.createElement("h2",{className:"form-title"},"Login"),r.a.createElement("hr",null),r.a.createElement(L.d,{initialValues:{username:"",password:""},validationSchema:I,onSubmit:this.submit.bind(this)},r.a.createElement(L.c,{className:"col-xs-12 col-md-6"},this.state.incorrectLoginMessage?r.a.createElement("div",{className:"row alert alert-danger mt-2"},"Incorrect username or password"):null,r.a.createElement("div",{className:"row form-group"},r.a.createElement("label",{htmlFor:"username"},"Username:"),r.a.createElement(L.b,{name:"username",id:"username",className:"form-control"}),r.a.createElement(L.a,{className:"alert alert-danger mt-2",name:"username",component:"div"})),r.a.createElement("div",{className:"row form-group"},r.a.createElement("label",{htmlFor:"password"},"Password:"),r.a.createElement(L.b,{type:"password",name:"password",id:"password",className:"form-control"}),r.a.createElement(L.a,{className:"alert alert-danger mt-2",name:"password",component:"div"})),r.a.createElement("div",{className:"row form-group d-flex justify-content-end"},r.a.createElement(D.a,{type:"submit",className:"login-btn"},"Login")))))}}]),a}(n.Component)),G=Object(C.f)(A);var J=function(){return r.a.createElement(d.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(g,null),r.a.createElement("main",{className:"container"},r.a.createElement(C.c,null,r.a.createElement(C.a,{path:"/profile"},r.a.createElement(k,null)),r.a.createElement(C.a,{path:"/post/create"},r.a.createElement(U,null)),r.a.createElement(C.a,{path:"/register"},r.a.createElement(B,null)),r.a.createElement(C.a,{path:"/login"},r.a.createElement(G,null)),r.a.createElement(C.a,{path:"/"},r.a.createElement(w,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[148,1,2]]]);
//# sourceMappingURL=main.d45c0246.chunk.js.map